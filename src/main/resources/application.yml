server:
  port: 8080

spring:
  datasource:
    url: ${POSTGRES_URL:jdbc:postgresql://localhost:5433/resume_tailor}
    username: ${POSTGRES_USER:resume_tailor}
    password: ${POSTGRES_PASSWORD:resume_tailor}
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        jdbc:
          time_zone: UTC
  flyway:
    enabled: true

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

  ai:
    openai:
      api-key: ${OPENAI_API_KEY:YourKeyHere-}
      chat:
        options:
          model: ${OPENAI_CHAT_MODEL:gpt-5.2}
          temperature: 1.0
      embedding:
        options:
          model: ${OPENAI_EMBEDDING_MODEL:text-embedding-3-small}
    vectorstore:
      pgvector:
        table-name: resume_vectors
        dimensions: 1536
        distance-type: COSINE_DISTANCE

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
  endpoint:
    prometheus:
      enabled: true
  metrics:
    export:
      prometheus:
        enabled: true
  tracing:
    sampling:
      probability: 1.0
  otlp:
    tracing:
      endpoint: ${OTLP_TRACING_ENDPOINT:http://localhost:4318/v1/traces}

logging:
  file:
    name: ${LOG_FILE:./target/logs/app.log}
  level:
    org.springframework.ai.chat.client.advisor.SimpleLoggerAdvisor: DEBUG

tavily:
  base-url: ${TAVILY_BASE_URL:https://api.tavily.com}
  api-key: ${TAVILY_API_KEY:tvlyyourapikeyhere}

